(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
const loader = new ex.Loader();
const txWall = new ex.Texture("./images/Wall_Black.png");
const txCrate = new ex.Texture("./images/Crate_Yellow.png");
const txEndPoint = new ex.Texture("./images/EndPoint_Yellow.png");
const txPlayer = new ex.Texture("./images/Character4.png");
const txGround = new ex.Texture("./images/GroundGravel_Concrete.png");
const sndOh = new ex.Sound("./sounds/oh.wav");
const sndDrag = new ex.Sound("./sounds/drag.wav");
const sndFill = new ex.Sound("./sounds/fill.wav");
const sndStep = new ex.Sound("./sounds/step.wav");
loader.addResource(txWall);
loader.addResource(txCrate);
loader.addResource(txEndPoint);
loader.addResource(txPlayer);
loader.addResource(txGround);
loader.addResource(sndOh);
loader.addResource(sndDrag);
loader.addResource(sndFill);
loader.addResource(sndStep);
class Cell extends ex.Actor {
    constructor(x, y, color) {
        super(x * Cell.size, y * Cell.size, Cell.size, Cell.size, color);
    }
}
Cell.size = 64;
class Wall extends Cell {
    constructor(x, y) { super(x, y, ex.Color.Gray); }
    onInitialize(engine) {
        this.addDrawing(txWall);
    }
}
class Holder extends Cell {
    constructor(x, y) { super(x, y, ex.Color.Black); }
    onInitialize(engine) {
        this.addDrawing(txEndPoint);
    }
}
class Ground extends Cell {
    constructor(x, y) { super(x, y, ex.Color.Black); }
    onInitialize(engine) {
        this.setZIndex(-1);
        this.addDrawing(txGround);
    }
}
class Box extends Cell {
    constructor(x, y) { super(x, y, ex.Color.Orange); }
    onInitialize(engine) {
        this.addDrawing(txCrate);
    }
}
class Player extends Cell {
    constructor(level, gridX, gridY) {
        super(gridX, gridY, ex.Color.White);
        this.gridX = gridX;
        this.gridY = gridY;
        this.level = level;
    }
    onInitialize(engine) {
        this.setZIndex(1);
        this.addDrawing(txPlayer);
    }
    update(engine, delta) {
        super.update(engine, delta);
        if (engine.input.keyboard.wasPressed(ex.Input.Keys.W) || engine.input.keyboard.wasPressed(ex.Input.Keys.Up)) {
            this.moveBy(0, -1);
        }
        if (engine.input.keyboard.wasPressed(ex.Input.Keys.S) || engine.input.keyboard.wasPressed(ex.Input.Keys.Down)) {
            this.moveBy(0, 1);
        }
        if (engine.input.keyboard.wasPressed(ex.Input.Keys.D) || engine.input.keyboard.wasPressed(ex.Input.Keys.Right)) {
            this.moveBy(1, 0);
        }
        if (engine.input.keyboard.wasPressed(ex.Input.Keys.A) || engine.input.keyboard.wasPressed(ex.Input.Keys.Left)) {
            this.moveBy(-1, 0);
        }
    }
    moveBy(dx, dy) {
        let cell = this.level.grid[this.gridY + dy][this.gridX + dx];
        const delta = new ex.Vector(dx, dy).scale(Cell.size);
        if (cell instanceof Wall) {
            sndOh.play();
            return;
        }
        if (cell instanceof Box) {
            let nextCell = this.level.grid[this.gridY + 2 * dy][this.gridX + 2 * dx];
            if (nextCell === undefined) {
                sndDrag.play();
                cell.pos = cell.pos.add(delta);
                this.level.grid[this.gridY + dy][this.gridX + dx] = undefined;
                this.level.grid[this.gridY + 2 * dy][this.gridX + 2 * dx] = cell;
            }
            else if (nextCell instanceof Holder) {
                sndFill.play();
                this.level.grid[this.gridY + dy][this.gridX + dx] = undefined;
                this.level.grid[this.gridY + 2 * dy][this.gridX + 2 * dx] = undefined;
                cell.kill();
                nextCell.kill();
                this.level.closeHole();
            }
            else {
                sndOh.play();
                return;
            }
        }
        else {
            sndStep.play();
        }
        this.gridX += dx;
        this.gridY += dy;
        this.pos = this.pos.add(delta);
    }
}
class Level extends ex.Scene {
    constructor(level) {
        super();
        this.holes = 0;
        this.rawLevel = level;
    }
    onInitialize(engine) {
        // TODO: Count x as the longest row's length.
        this.size = new ex.Vector(this.rawLevel[0].length, this.rawLevel.length);
        this.grid = new Array();
        for (let i = 0; i < this.size.y; i++) {
            this.grid[i] = new Array(this.size.x);
            for (let j = 0; j < this.size.x; j++) {
                let cell = undefined;
                switch (this.rawLevel[i][j]) {
                    case " ":
                        break;
                    case ".":
                        this.addGround(j, i);
                        break;
                    case "#":
                        cell = new Wall(j, i);
                        this.addGround(j, i);
                        break;
                    case "0":
                        cell = new Box(j, i);
                        this.addGround(j, i);
                        break;
                    case "^":
                        cell = new Holder(j, i);
                        this.holes += 1;
                        this.addGround(j, i);
                        break;
                    case "@":
                        this.player = new Player(this, j, i);
                        // Player is not a part of a grid.
                        this.add(this.player);
                        this.addGround(j, i);
                        break;
                }
                if (cell) {
                    this.add(cell);
                    this.grid[i][j] = cell;
                }
            }
        }
        let camera = new ex.LockedCamera();
        const widthFactor = (engine.getDrawWidth() - 20) / this.size.x;
        const heightFactor = (engine.getDrawHeight() - 20) / this.size.y;
        // camera.zoom(Math.floor(Math.min(widthFactor, heightFactor) / Cell.size) || 1);
        camera.zoom(Math.min(widthFactor, heightFactor) / Cell.size);
        camera.move(new ex.Vector(this.size.x * Cell.size / 2 - Cell.size / 2, this.size.y * Cell.size / 2 - Cell.size / 2), 0);
        this.camera = camera;
    }
    addGround(i, j) {
        this.add(new Ground(i, j));
    }
    closeHole() {
        this.holes -= 1;
        if (this.holes === 0) {
            alert("You won!");
        }
    }
}
const simpleLevel = [
    "  ######",
    "  # ..@#",
    "  # 00 #",
    "  ## ###",
    "   # #  ",
    "   # #  ",
    "#### #  ",
    "#    ## ",
    "# #   # ",
    "#   # # ",
    "###   # ",
    "  ##### "
];
const level1a = [
    "######## ######",
    "# #@   ###    #",
    "#.## 00    0  #",
    "#.##  00# 0 0 #",
    "#.##    #     #",
    "#.#######0#####",
    "#.#    #      #",
    "#.######      #",
    "#  ....0000   #",
    "#  #####      #",
    "####   ########"
];
const level1b = [
    "######  ##### ",
    "#....#  #...# ",
    "#.0..####.0.# ",
    "#.0......0..# ",
    "#..###@###0.# ",
    "##########.###",
    "#..^^^.#.....#",
    "#..#####0....#",
    "##^#   #.0...#",
    " #^#####.0...#",
    " #..^^^^0.0..#",
    " #..##########",
    " ####         "
];
const level2a = [
    " ####                    ",
    "## @########             ",
    "#          #             ",
    "# 0#####0# #             ",
    "#  #   # 0 #             ",
    "# 0 0    0##             ",
    "# 0  0  #  #             ",
    "# ####0 ## #             ",
    "#  0   0 # ##            ",
    "# ###0#   0 #############",
    "#   #  0# 0 ............#",
    "#  0      ###############",
    "#####  #  #              ",
    "    #######              "
];
const level2b = [
    "###########                 ",
    "#    #    ###               ",
    "#  00#00   @#               ",
    "#     0   ###               ",
    "#    #    #                 ",
    "## #########                ",
    "#  0 #     #                ",
    "# 00 #0 0 0#                ",
    "#  0     0 #                ",
    "# 000#0  0 #################",
    "#    #  0 0 ...............#",
    "############################"
];
const level3a = [
    "  ########         ",
    "### #    #         ",
    "#   0    ###       ",
    "# # 00#00# #       ",
    "# 00#      #       ",
    "# #  0 #   #       ",
    "#    #0##0##       ",
    "#  00  0   #       ",
    "# ##   #   #       ",
    "#    #0#####       ",
    "###  0 ############",
    "  #  0@...........#",
    "  #################"
];
const level3b = [
    "##############     ",
    "#        #   #     ",
    "# 00  #00# # #     ",
    "#  # 0 0 #00 #     ",
    "## #  #  # # #     ",
    "#   ##       #     ",
    "#   # 0 #   ##     ",
    "# 0 #0 #   ###     ",
    "##0 #  ############",
    "#  0    ..........#",
    "#   # @############",
    "########           "
];
const level4a = [
    "#########################",
    "#@      ................#",
    "#       #################",
    "####### ######           ",
    " #           #           ",
    " # 0 0 0 0 0 #           ",
    "######## #####           ",
    "#   0 0  0 0 #           ",
    "#   0        #           ",
    "##### ########           ",
    " #  0 0 0   #            ",
    " #     0    #            ",
    " # 0 0   0 ##            ",
    "####### ####             ",
    "#  0     #               ",
    "#        #               ",
    "#   ######               ",
    "#####                    "
];
const level4b = [
    "  #############",
    "  #  .........#",
    "  #  .........#",
    "  #  ##########",
    "#### #    #####",
    "#  #0##  ##   #",
    "#     #### 0  #",
    "# 00  #  #  0 #",
    "##  00#   00 ##",
    " #0  0   #0  # ",
    " # 00 #  #  0# ",
    " # 0 0#### 0 # ",
    " #       #  ## ",
    " #### 0  # ##  ",
    "    ### ## #   ",
    "     # 0   #   ",
    "     #@ #  #   ",
    "     #######   "
];
let game = new ex.Engine({
    displayMode: ex.DisplayMode.FullScreen
});
game.setAntialiasing(true);
game.backgroundColor = ex.Color.DarkGray;
game.addScene("level1b", new Level(level1b));
game.goToScene("level1b");
game.start(loader);
const movePlayerBy = function (dx, dy) {
    if (game.currentScene instanceof Level) {
        game.currentScene.player.moveBy(dx, dy);
    }
};
["click", "touchstart"].forEach(function (action) {
    document.getElementById("control-left").addEventListener(action, function (event) {
        event.preventDefault();
        movePlayerBy(-1, 0);
    });
    document.getElementById("control-up").addEventListener(action, function (event) {
        event.preventDefault();
        movePlayerBy(0, -1);
    });
    document.getElementById("control-down").addEventListener(action, function (event) {
        event.preventDefault();
        movePlayerBy(0, 1);
    });
    document.getElementById("control-right").addEventListener(action, function (event) {
        event.preventDefault();
        movePlayerBy(1, 0);
    });
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUEsTUFBTSxNQUFNLEdBQUcsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUM7QUFFL0IsTUFBTSxNQUFNLEdBQUcsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFDekQsTUFBTSxPQUFPLEdBQUcsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLDJCQUEyQixDQUFDLENBQUM7QUFDNUQsTUFBTSxVQUFVLEdBQUcsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLDhCQUE4QixDQUFDLENBQUM7QUFDbEUsTUFBTSxRQUFRLEdBQUcsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLHlCQUF5QixDQUFDLENBQUM7QUFDM0QsTUFBTSxRQUFRLEdBQUcsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7QUFFdEUsTUFBTSxLQUFLLEdBQUcsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDOUMsTUFBTSxPQUFPLEdBQUcsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFDbEQsTUFBTSxPQUFPLEdBQUcsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFDbEQsTUFBTSxPQUFPLEdBQUcsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7QUFFbEQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMzQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQzVCLE1BQU0sQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDL0IsTUFBTSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM3QixNQUFN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QUFJLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1RyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5RyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNwQixDQUFDO1FBRUQsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0csSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDcEIsQ0FBQztRQUVELEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMs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QUMzRSxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDdkIsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RCLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsVUFBUyxLQUFLO1FBQzdFLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QixZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLENBQUMsQ0FBQyxDQUFDO0lBRUgsUUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsVUFBUyxLQUFLO1FBQzlFLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUN2QixZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiY29uc3QgbG9hZGVyID0gbmV3IGV4LkxvYWRlcigpO1xuXG5jb25zdCB0eFdhbGwgPSBuZXcgZXguVGV4dHVyZShcIi4vaW1hZ2VzL1dhbGxfQmxhY2sucG5nXCIpO1xuY29uc3QgdHhDcmF0ZSA9IG5ldyBleC5UZXh0dXJlKFwiLi9pbWFnZXMvQ3JhdGVfWWVsbG93LnBuZ1wiKTtcbmNvbnN0IHR4RW5kUG9pbnQgPSBuZXcgZXguVGV4dHVyZShcIi4vaW1hZ2VzL0VuZFBvaW50X1llbGxvdy5wbmdcIik7XG5jb25zdCB0eFBsYXllciA9IG5ldyBleC5UZXh0dXJlKFwiLi9pbWFnZXMvQ2hhcmFjdGVyNC5wbmdcIik7XG5jb25zdCB0eEdyb3VuZCA9IG5ldyBleC5UZXh0dXJlKFwiLi9pbWFnZXMvR3JvdW5kR3JhdmVsX0NvbmNyZXRlLnBuZ1wiKTtcblxuY29uc3Qgc25kT2ggPSBuZXcgZXguU291bmQoXCIuL3NvdW5kcy9vaC53YXZcIik7XG5jb25zdCBzbmREcmFnID0gbmV3IGV4LlNvdW5kKFwiLi9zb3VuZHMvZHJhZy53YXZcIik7XG5jb25zdCBzbmRGaWxsID0gbmV3IGV4LlNvdW5kKFwiLi9zb3VuZHMvZmlsbC53YXZcIik7XG5jb25zdCBzbmRTdGVwID0gbmV3IGV4LlNvdW5kKFwiLi9zb3VuZHMvc3RlcC53YXZcIik7XG5cbmxvYWRlci5hZGRSZXNvdXJjZSh0eFdhbGwpO1xubG9hZGVyLmFkZFJlc291cmNlKHR4Q3JhdGUpO1xubG9hZGVyLmFkZFJlc291cmNlKHR4RW5kUG9pbnQpO1xubG9hZGVyLmFkZFJlc291cmNlKHR4UGxheWVyKTtcbmxvYWRlci5hZGRSZXNvdXJjZSh0eEdyb3VuZCk7XG5cbmxvYWRlci5hZGRSZXNvdXJjZShzbmRPaCk7XG5sb2FkZXIuYWRkUmVzb3VyY2Uoc25kRHJhZyk7XG5sb2FkZXIuYWRkUmVzb3VyY2Uoc25kRmlsbCk7XG5sb2FkZXIuYWRkUmVzb3VyY2Uoc25kU3RlcCk7XG5cbmFic3RyYWN0IGNsYXNzIENlbGwgZXh0ZW5kcyBleC5BY3RvciB7XG4gIHN0YXRpYyByZWFkb25seSBzaXplOiBudW1iZXIgPSA2NDtcblxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IGV4LkNvbG9yKSB7XG4gICAgc3VwZXIoeCAqIENlbGwuc2l6ZSwgeSAqIENlbGwuc2l6ZSwgQ2VsbC5zaXplLCBDZWxsLnNpemUsIGNvbG9yKTtcbiAgfVxufVxuXG5jbGFzcyBXYWxsIGV4dGVuZHMgQ2VsbCB7XG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7IHN1cGVyKHgsIHksIGV4LkNvbG9yLkdyYXkpOyB9XG5cbiAgcHVibGljIG9uSW5pdGlhbGl6ZShlbmdpbmU6IGV4LkVuZ2luZSk6IHZvaWQge1xuICAgIHRoaXMuYWRkRHJhd2luZyh0eFdhbGwpO1xuICB9XG59XG5cbmNsYXNzIEhvbGRlciBleHRlbmRzIENlbGwge1xuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikgeyBzdXBlcih4LCB5LCBleC5Db2xvci5CbGFjayk7IH1cblxuICBwdWJsaWMgb25Jbml0aWFsaXplKGVuZ2luZTogZXguRW5naW5lKTogdm9pZCB7XG4gICAgdGhpcy5hZGREcmF3aW5nKHR4RW5kUG9pbnQpO1xuICB9XG59XG5cbmNsYXNzIEdyb3VuZCBleHRlbmRzIENlbGwge1xuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikgeyBzdXBlcih4LCB5LCBleC5Db2xvci5CbGFjayk7IH1cblxuICBwdWJsaWMgb25Jbml0aWFsaXplKGVuZ2luZTogZXguRW5naW5lKTogdm9pZCB7XG4gICAgdGhpcy5zZXRaSW5kZXgoLTEpO1xuICAgIHRoaXMuYWRkRHJhd2luZyh0eEdyb3VuZCk7XG4gIH1cbn1cblxuY2xhc3MgQm94IGV4dGVuZHMgQ2VsbCB7XG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7IHN1cGVyKHgsIHksIGV4LkNvbG9yLk9yYW5nZSk7IH1cblxuICBwdWJsaWMgb25Jbml0aWFsaXplKGVuZ2luZTogZXguRW5naW5lKTogdm9pZCB7XG4gICAgdGhpcy5hZGREcmF3aW5nKHR4Q3JhdGUpO1xuICB9XG59XG5cbmNsYXNzIFBsYXllciBleHRlbmRzIENlbGwge1xuICBwcml2YXRlIGxldmVsOiBMZXZlbDtcblxuICBjb25zdHJ1Y3RvcihsZXZlbDogTGV2ZWwsIHByaXZhdGUgZ3JpZFg6IG51bWJlciwgcHJpdmF0ZSBncmlkWTogbnVtYmVyKSB7XG4gICAgc3VwZXIoZ3JpZFgsIGdyaWRZLCBleC5Db2xvci5XaGl0ZSk7XG5cbiAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gIH1cblxuICBwdWJsaWMgb25Jbml0aWFsaXplKGVuZ2luZTogZXguRW5naW5lKSB7XG4gICAgdGhpcy5zZXRaSW5kZXgoMSk7XG4gICAgdGhpcy5hZGREcmF3aW5nKHR4UGxheWVyKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGUoZW5naW5lOiBleC5FbmdpbmUsIGRlbHRhOiBudW1iZXIpIHtcbiAgICBzdXBlci51cGRhdGUoZW5naW5lLCBkZWx0YSk7XG5cbiAgICBpZiAoZW5naW5lLmlucHV0LmtleWJvYXJkLndhc1ByZXNzZWQoZXguSW5wdXQuS2V5cy5XKSB8fCBlbmdpbmUuaW5wdXQua2V5Ym9hcmQud2FzUHJlc3NlZChleC5JbnB1dC5LZXlzLlVwKSkge1xuICAgICAgdGhpcy5tb3ZlQnkoMCwgLTEpO1xuICAgIH1cblxuICAgIGlmIChlbmdpbmUuaW5wdXQua2V5Ym9hcmQud2FzUHJlc3NlZChleC5JbnB1dC5LZXlzLlMpIHx8IGVuZ2luZS5pbnB1dC5rZXlib2FyZC53YXNQcmVzc2VkKGV4LklucHV0LktleXMuRG93bikpIHtcbiAgICAgIHRoaXMubW92ZUJ5KDAsIDEpO1xuICAgIH1cblxuICAgIGlmIChlbmdpbmUuaW5wdXQua2V5Ym9hcmQud2FzUHJlc3NlZChleC5JbnB1dC5LZXlzLkQpIHx8IGVuZ2luZS5pbnB1dC5rZXlib2FyZC53YXNQcmVzc2VkKGV4LklucHV0LktleXMuUmlnaHQpKSB7XG4gICAgICB0aGlzLm1vdmVCeSgxLCAwKTtcbiAgICB9XG5cbiAgICBpZiAoZW5naW5lLmlucHV0LmtleWJvYXJkLndhc1ByZXNzZWQoZXguSW5wdXQuS2V5cy5BKSB8fCBlbmdpbmUuaW5wdXQua2V5Ym9hcmQud2FzUHJlc3NlZChleC5JbnB1dC5LZXlzLkxlZnQpKSB7XG4gICAgICB0aGlzLm1vdmVCeSgtMSwgMCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG1vdmVCeShkeDogbnVtYmVyLCBkeTogbnVtYmVyKTogdm9pZCB7XG4gICAgbGV0IGNlbGwgPSB0aGlzLmxldmVsLmdyaWRbdGhpcy5ncmlkWSArIGR5XVt0aGlzLmdyaWRYICsgZHhdO1xuICAgIGNvbnN0IGRlbHRhID0gbmV3IGV4LlZlY3RvcihkeCwgZHkpLnNjYWxlKENlbGwuc2l6ZSk7XG5cbiAgICBpZiAoY2VsbCBpbnN0YW5jZW9mIFdhbGwpIHtcbiAgICAgIHNuZE9oLnBsYXkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoY2VsbCBpbnN0YW5jZW9mIEJveCkge1xuICAgICAgbGV0IG5leHRDZWxsID0gdGhpcy5sZXZlbC5ncmlkW3RoaXMuZ3JpZFkgKyAyICogZHldW3RoaXMuZ3JpZFggKyAyICogZHhdO1xuXG4gICAgICBpZiAobmV4dENlbGwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzbmREcmFnLnBsYXkoKTtcbiAgICAgICAgY2VsbC5wb3MgPSBjZWxsLnBvcy5hZGQoZGVsdGEpO1xuICAgICAgICB0aGlzLmxldmVsLmdyaWRbdGhpcy5ncmlkWSArIGR5XVt0aGlzLmdyaWRYICsgZHhdID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxldmVsLmdyaWRbdGhpcy5ncmlkWSArIDIgKiBkeV1bdGhpcy5ncmlkWCArIDIgKiBkeF0gPSBjZWxsO1xuXG4gICAgICB9IGVsc2UgaWYgKG5leHRDZWxsIGluc3RhbmNlb2YgSG9sZGVyKSB7XG4gICAgICAgIHNuZEZpbGwucGxheSgpO1xuICAgICAgICB0aGlzLmxldmVsLmdyaWRbdGhpcy5ncmlkWSArIGR5XVt0aGlzLmdyaWRYICsgZHhdID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxldmVsLmdyaWRbdGhpcy5ncmlkWSArIDIgKiBkeV1bdGhpcy5ncmlkWCArIDIgKiBkeF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIGNlbGwua2lsbCgpO1xuICAgICAgICBuZXh0Q2VsbC5raWxsKCk7XG4gICAgICAgIHRoaXMubGV2ZWwuY2xvc2VIb2xlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbmRPaC5wbGF5KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc25kU3RlcC5wbGF5KCk7XG4gICAgfVxuXG4gICAgdGhpcy5ncmlkWCArPSBkeDtcbiAgICB0aGlzLmdyaWRZICs9IGR5O1xuICAgIHRoaXMucG9zID0gdGhpcy5wb3MuYWRkKGRlbHRhKTtcbiAgfVxufVxuXG5jbGFzcyBMZXZlbCBleHRlbmRzIGV4LlNjZW5lIHtcbiAgcHVibGljIHBsYXllcjogUGxheWVyO1xuICBwdWJsaWMgZ3JpZDogQXJyYXk8QXJyYXk8Q2VsbD4+O1xuXG4gIHByaXZhdGUgcmF3TGV2ZWw6IEFycmF5PHN0cmluZz47XG5cbiAgcHJpdmF0ZSBob2xlczogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBzaXplOiBleC5WZWN0b3I7XG5cbiAgY29uc3RydWN0b3IobGV2ZWw6IEFycmF5PHN0cmluZz4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucmF3TGV2ZWwgPSBsZXZlbDtcbiAgfVxuXG4gIHB1YmxpYyBvbkluaXRpYWxpemUoZW5naW5lOiBleC5FbmdpbmUpIHtcbiAgICAvLyBUT0RPOiBDb3VudCB4IGFzIHRoZSBsb25nZXN0IHJvdydzIGxlbmd0aC5cbiAgICB0aGlzLnNpemUgPSBuZXcgZXguVmVjdG9yKHRoaXMucmF3TGV2ZWxbMF0ubGVuZ3RoLCB0aGlzLnJhd0xldmVsLmxlbmd0aCk7XG4gICAgdGhpcy5ncmlkID0gbmV3IEFycmF5KCk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2l6ZS55OyBpKyspIHtcbiAgICAgIHRoaXMuZ3JpZFtpXSA9IG5ldyBBcnJheSh0aGlzLnNpemUueCk7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5zaXplLng7IGorKykge1xuICAgICAgICBsZXQgY2VsbDogQ2VsbCA9IHVuZGVmaW5lZDtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMucmF3TGV2ZWxbaV1bal0pIHtcbiAgICAgICAgICBjYXNlIFwiIFwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgICAgIHRoaXMuYWRkR3JvdW5kKGosIGkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIiNcIjpcbiAgICAgICAgICAgIGNlbGwgPSBuZXcgV2FsbChqLCBpKTtcbiAgICAgICAgICAgIHRoaXMuYWRkR3JvdW5kKGosIGkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgICAgIGNlbGwgPSBuZXcgQm94KGosIGkpO1xuICAgICAgICAgICAgdGhpcy5hZGRHcm91bmQoaiwgaSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiXlwiOlxuICAgICAgICAgICAgY2VsbCA9IG5ldyBIb2xkZXIoaiwgaSk7XG4gICAgICAgICAgICB0aGlzLmhvbGVzICs9IDE7XG4gICAgICAgICAgICB0aGlzLmFkZEdyb3VuZChqLCBpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJAXCI6XG4gICAgICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIodGhpcywgaiwgaSk7XG4gICAgICAgICAgICAvLyBQbGF5ZXIgaXMgbm90IGEgcGFydCBvZiBhIGdyaWQuXG4gICAgICAgICAgICB0aGlzLmFkZCh0aGlzLnBsYXllcik7XG4gICAgICAgICAgICB0aGlzLmFkZEdyb3VuZChqLCBpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNlbGwpIHtcbiAgICAgICAgICB0aGlzLmFkZChjZWxsKTtcbiAgICAgICAgICB0aGlzLmdyaWRbaV1bal0gPSBjZWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGNhbWVyYSA9IG5ldyBleC5Mb2NrZWRDYW1lcmEoKTtcblxuICAgIGNvbnN0IHdpZHRoRmFjdG9yID0gKGVuZ2luZS5nZXREcmF3V2lkdGgoKSAtIDIwKSAvIHRoaXMuc2l6ZS54O1xuICAgIGNvbnN0IGhlaWdodEZhY3RvciA9IChlbmdpbmUuZ2V0RHJhd0hlaWdodCgpIC0gMjApIC8gdGhpcy5zaXplLnk7XG5cbiAgICAvLyBjYW1lcmEuem9vbShNYXRoLmZsb29yKE1hdGgubWluKHdpZHRoRmFjdG9yLCBoZWlnaHRGYWN0b3IpIC8gQ2VsbC5zaXplKSB8fCAxKTtcbiAgICBjYW1lcmEuem9vbShNYXRoLm1pbih3aWR0aEZhY3RvciwgaGVpZ2h0RmFjdG9yKSAvIENlbGwuc2l6ZSk7XG5cbiAgICBjYW1lcmEubW92ZShcbiAgICAgIG5ldyBleC5WZWN0b3IoXG4gICAgICAgIHRoaXMuc2l6ZS54ICogQ2VsbC5zaXplIC8gMiAtIENlbGwuc2l6ZSAvIDIsXG4gICAgICAgIHRoaXMuc2l6ZS55ICogQ2VsbC5zaXplIC8gMiAtIENlbGwuc2l6ZSAvIDJcbiAgICAgICksXG4gICAgICAwXG4gICAgKTtcblxuICAgIHRoaXMuY2FtZXJhID0gY2FtZXJhO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRHcm91bmQoaTogbnVtYmVyLCBqOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmFkZChuZXcgR3JvdW5kKGksIGopKTtcbiAgfVxuXG4gIHB1YmxpYyBjbG9zZUhvbGUoKTogdm9pZCB7XG4gICAgdGhpcy5ob2xlcyAtPSAxO1xuICAgIGlmICh0aGlzLmhvbGVzID09PSAwKSB7XG4gICAgICBhbGVydChcIllvdSB3b24hXCIpO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBzaW1wbGVMZXZlbCA9IFtcbiAgXCIgICMjIyMjI1wiLFxuICBcIiAgIyAuLkAjXCIsXG4gIFwiICAjIDAwICNcIixcbiAgXCIgICMjICMjI1wiLFxuICBcIiAgICMgIyAgXCIsXG4gIFwiICAgIyAjICBcIixcbiAgXCIjIyMjICMgIFwiLFxuICBcIiMgICAgIyMgXCIsXG4gIFwiIyAjICAgIyBcIixcbiAgXCIjICAgIyAjIFwiLFxuICBcIiMjIyAgICMgXCIsXG4gIFwiICAjIyMjIyBcIlxuXTtcblxuY29uc3QgbGV2ZWwxYSA9IFtcbiAgXCIjIyMjIyMjIyAjIyMjIyNcIixcbiAgXCIjICNAICAgIyMjICAgICNcIixcbiAgXCIjLiMjIDAwICAgIDAgICNcIixcbiAgXCIjLiMjICAwMCMgMCAwICNcIixcbiAgXCIjLiMjICAgICMgICAgICNcIixcbiAgXCIjLiMjIyMjIyMwIyMjIyNcIixcbiAgXCIjLiMgICAgIyAgICAgICNcIixcbiAgXCIjLiMjIyMjIyAgICAgICNcIixcbiAgXCIjICAuLi4uMDAwMCAgICNcIixcbiAgXCIjICAjIyMjIyAgICAgICNcIixcbiAgXCIjIyMjICAgIyMjIyMjIyNcIlxuXTtcblxuY29uc3QgbGV2ZWwxYiA9IFtcbiAgXCIjIyMjIyMgICMjIyMjIFwiLFxuICBcIiMuLi4uIyAgIy4uLiMgXCIsXG4gIFwiIy4wLi4jIyMjLjAuIyBcIixcbiAgXCIjLjAuLi4uLi4wLi4jIFwiLFxuICBcIiMuLiMjI0AjIyMwLiMgXCIsXG4gIFwiIyMjIyMjIyMjIy4jIyNcIixcbiAgXCIjLi5eXl4uIy4uLi4uI1wiLFxuICBcIiMuLiMjIyMjMC4uLi4jXCIsXG4gIFwiIyNeIyAgICMuMC4uLiNcIixcbiAgXCIgI14jIyMjIy4wLi4uI1wiLFxuICBcIiAjLi5eXl5eMC4wLi4jXCIsXG4gIFwiICMuLiMjIyMjIyMjIyNcIixcbiAgXCIgIyMjIyAgICAgICAgIFwiXG5dO1xuXG5jb25zdCBsZXZlbDJhID0gW1xuICBcIiAjIyMjICAgICAgICAgICAgICAgICAgICBcIixcbiAgXCIjIyBAIyMjIyMjIyMgICAgICAgICAgICAgXCIsXG4gIFwiIyAgICAgICAgICAjICAgICAgICAgICAgIFwiLFxuICBcIiMgMCMjIyMjMCMgIyAgICAgICAgICAgICBcIixcbiAgXCIjICAjICAgIyAwICMgICAgICAgICAgICAgXCIsXG4gIFwiIyAwIDAgICAgMCMjICAgICAgICAgICAgIFwiLFxuICBcIiMgMCAgMCAgIyAgIyAgICAgICAgICAgICBcIixcbiAgXCIjICMjIyMwICMjICMgICAgICAgICAgICAgXCIsXG4gIFwiIyAgMCAgIDAgIyAjIyAgICAgICAgICAgIFwiLFxuICBcIiMgIyMjMCMgICAwICMjIyMjIyMjIyMjIyNcIixcbiAgXCIjICAgIyAgMCMgMCAuLi4uLi4uLi4uLi4jXCIsXG4gIFwiIyAgMCAgICAgICMjIyMjIyMjIyMjIyMjI1wiLFxuICBcIiMjIyMjICAjICAjICAgICAgICAgICAgICBcIixcbiAgXCIgICAgIyMjIyMjIyAgICAgICAgICAgICAgXCJcbl07XG5cbmNvbnN0IGxldmVsMmIgPSBbXG4gIFwiIyMjIyMjIyMjIyMgICAgICAgICAgICAgICAgIFwiLFxuICBcIiMgICAgIyAgICAjIyMgICAgICAgICAgICAgICBcIixcbiAgXCIjICAwMCMwMCAgIEAjICAgICAgICAgICAgICAgXCIsXG4gIFwiIyAgICAgMCAgICMjIyAgICAgICAgICAgICAgIFwiLFxuICBcIiMgICAgIyAgICAjICAgICAgICAgICAgICAgICBcIixcbiAgXCIjIyAjIyMjIyMjIyMgICAgICAgICAgICAgICAgXCIsXG4gIFwiIyAgMCAjICAgICAjICAgICAgICAgICAgICAgIFwiLFxuICBcIiMgMDAgIzAgMCAwIyAgICAgICAgICAgICAgICBcIixcbiAgXCIjICAwICAgICAwICMgICAgICAgICAgICAgICAgXCIsXG4gIFwiIyAwMDAjMCAgMCAjIyMjIyMjIyMjIyMjIyMjI1wiLFxuICBcIiMgICAgIyAgMCAwIC4uLi4uLi4uLi4uLi4uLiNcIixcbiAgXCIjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXCJcbl07XG5cbmNvbnN0IGxldmVsM2EgPSBbXG4gIFwiICAjIyMjIyMjIyAgICAgICAgIFwiLFxuICBcIiMjIyAjICAgICMgICAgICAgICBcIixcbiAgXCIjICAgMCAgICAjIyMgICAgICAgXCIsXG4gIFwiIyAjIDAwIzAwIyAjICAgICAgIFwiLFxuICBcIiMgMDAjICAgICAgIyAgICAgICBcIixcbiAgXCIjICMgIDAgIyAgICMgICAgICAgXCIsXG4gIFwiIyAgICAjMCMjMCMjICAgICAgIFwiLFxuICBcIiMgIDAwICAwICAgIyAgICAgICBcIixcbiAgXCIjICMjICAgIyAgICMgICAgICAgXCIsXG4gIFwiIyAgICAjMCMjIyMjICAgICAgIFwiLFxuICBcIiMjIyAgMCAjIyMjIyMjIyMjIyNcIixcbiAgXCIgICMgIDBALi4uLi4uLi4uLi4jXCIsXG4gIFwiICAjIyMjIyMjIyMjIyMjIyMjI1wiXG5dO1xuXG5jb25zdCBsZXZlbDNiID0gW1xuICBcIiMjIyMjIyMjIyMjIyMjICAgICBcIixcbiAgXCIjICAgICAgICAjICAgIyAgICAgXCIsXG4gIFwiIyAwMCAgIzAwIyAjICMgICAgIFwiLFxuICBcIiMgICMgMCAwICMwMCAjICAgICBcIixcbiAgXCIjIyAjICAjICAjICMgIyAgICAgXCIsXG4gIFwiIyAgICMjICAgICAgICMgICAgIFwiLFxuICBcIiMgICAjIDAgIyAgICMjICAgICBcIixcbiAgXCIjIDAgIzAgIyAgICMjIyAgICAgXCIsXG4gIFwiIyMwICMgICMjIyMjIyMjIyMjI1wiLFxuICBcIiMgIDAgICAgLi4uLi4uLi4uLiNcIixcbiAgXCIjICAgIyBAIyMjIyMjIyMjIyMjXCIsXG4gIFwiIyMjIyMjIyMgICAgICAgICAgIFwiXG5dO1xuXG5jb25zdCBsZXZlbDRhID0gW1xuICBcIiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyNcIixcbiAgXCIjQCAgICAgIC4uLi4uLi4uLi4uLi4uLi4jXCIsXG4gIFwiIyAgICAgICAjIyMjIyMjIyMjIyMjIyMjI1wiLFxuICBcIiMjIyMjIyMgIyMjIyMjICAgICAgICAgICBcIixcbiAgXCIgIyAgICAgICAgICAgIyAgICAgICAgICAgXCIsXG4gIFwiICMgMCAwIDAgMCAwICMgICAgICAgICAgIFwiLFxuICBcIiMjIyMjIyMjICMjIyMjICAgICAgICAgICBcIixcbiAgXCIjICAgMCAwICAwIDAgIyAgICAgICAgICAgXCIsXG4gIFwiIyAgIDAgICAgICAgICMgICAgICAgICAgIFwiLFxuICBcIiMjIyMjICMjIyMjIyMjICAgICAgICAgICBcIixcbiAgXCIgIyAgMCAwIDAgICAjICAgICAgICAgICAgXCIsXG4gIFwiICMgICAgIDAgICAgIyAgICAgICAgICAgIFwiLFxuICBcIiAjIDAgMCAgIDAgIyMgICAgICAgICAgICBcIixcbiAgXCIjIyMjIyMjICMjIyMgICAgICAgICAgICAgXCIsXG4gIFwiIyAgMCAgICAgIyAgICAgICAgICAgICAgIFwiLFxuICBcIiMgICAgICAgICMgICAgICAgICAgICAgICBcIixcbiAgXCIjICAgIyMjIyMjICAgICAgICAgICAgICAgXCIsXG4gIFwiIyMjIyMgICAgICAgICAgICAgICAgICAgIFwiXG5dO1xuXG5jb25zdCBsZXZlbDRiID0gW1xuICBcIiAgIyMjIyMjIyMjIyMjI1wiLFxuICBcIiAgIyAgLi4uLi4uLi4uI1wiLFxuICBcIiAgIyAgLi4uLi4uLi4uI1wiLFxuICBcIiAgIyAgIyMjIyMjIyMjI1wiLFxuICBcIiMjIyMgIyAgICAjIyMjI1wiLFxuICBcIiMgICMwIyMgICMjICAgI1wiLFxuICBcIiMgICAgICMjIyMgMCAgI1wiLFxuICBcIiMgMDAgICMgICMgIDAgI1wiLFxuICBcIiMjICAwMCMgICAwMCAjI1wiLFxuICBcIiAjMCAgMCAgICMwICAjIFwiLFxuICBcIiAjIDAwICMgICMgIDAjIFwiLFxuICBcIiAjIDAgMCMjIyMgMCAjIFwiLFxuICBcIiAjICAgICAgICMgICMjIFwiLFxuICBcIiAjIyMjIDAgICMgIyMgIFwiLFxuICBcIiAgICAjIyMgIyMgIyAgIFwiLFxuICBcIiAgICAgIyAwICAgIyAgIFwiLFxuICBcIiAgICAgI0AgIyAgIyAgIFwiLFxuICBcIiAgICAgIyMjIyMjIyAgIFwiXG5dO1xuXG5sZXQgZ2FtZSA9IG5ldyBleC5FbmdpbmUoe1xuICBkaXNwbGF5TW9kZTogZXguRGlzcGxheU1vZGUuRnVsbFNjcmVlblxufSk7XG5cbmdhbWUuc2V0QW50aWFsaWFzaW5nKHRydWUpO1xuZ2FtZS5iYWNrZ3JvdW5kQ29sb3IgPSBleC5Db2xvci5EYXJrR3JheTtcbmdhbWUuYWRkU2NlbmUoXCJsZXZlbDFiXCIsIG5ldyBMZXZlbChsZXZlbDFiKSk7XG5nYW1lLmdvVG9TY2VuZShcImxldmVsMWJcIik7XG5nYW1lLnN0YXJ0KGxvYWRlcik7XG5cbmNvbnN0IG1vdmVQbGF5ZXJCeSA9IGZ1bmN0aW9uKGR4OiBudW1iZXIsIGR5OiBudW1iZXIpIHtcbiAgaWYgKGdhbWUuY3VycmVudFNjZW5lIGluc3RhbmNlb2YgTGV2ZWwpIHtcbiAgICAoZ2FtZS5jdXJyZW50U2NlbmUgYXMgTGV2ZWwpLnBsYXllci5tb3ZlQnkoZHgsIGR5KTtcbiAgfVxufTtcblxuW1wiY2xpY2tcIiwgXCJ0b3VjaHN0YXJ0XCJdLmZvckVhY2goZnVuY3Rpb24gKGFjdGlvbjogc3RyaW5nKSB7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cm9sLWxlZnRcIikuYWRkRXZlbnRMaXN0ZW5lcihhY3Rpb24sIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1vdmVQbGF5ZXJCeSgtMSwgMCk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udHJvbC11cFwiKS5hZGRFdmVudExpc3RlbmVyKGFjdGlvbiwgZnVuY3Rpb24oZXZlbnQpe1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbW92ZVBsYXllckJ5KDAsIC0xKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cm9sLWRvd25cIikuYWRkRXZlbnRMaXN0ZW5lcihhY3Rpb24sIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIG1vdmVQbGF5ZXJCeSgwLCAxKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250cm9sLXJpZ2h0XCIpLmFkZEV2ZW50TGlzdGVuZXIoYWN0aW9uLCBmdW5jdGlvbihldmVudCl7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBtb3ZlUGxheWVyQnkoMSwgMCk7XG4gIH0pO1xufSk7XG4iXX0=
